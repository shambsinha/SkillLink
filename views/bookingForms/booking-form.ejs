<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Form</title>
    <style>
        .main-container{
         margin: 2rem auto;
        }
 
         .main-container {
             background-color: #fff;
             padding: 20px;
             border-radius: 8px;
             box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
             width: 400px;
         }
 
         h2 {
             text-align: center;
             margin-bottom: 20px;
             color: #333;
         }
 
         .form-group {
             margin-bottom: 15px;
         }
 
         .form-group label {
             margin-bottom: 5px;
             display: block;
             font-weight: bold;
             color: #555;
         }
 
         .form-group input {
             width: 100%;
             padding: 10px;
             border: 1px solid #ccc;
             border-radius: 4px;
             font-size: 16px;
             box-sizing: border-box;
         }
 
         .form-group input:focus {
             border-color: #007bff;
             outline: none;
         }
 

         .form-group input, .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
        box-sizing: border-box;
    }

    .form-group input:focus, .form-group select:focus {
        border-color: #007bff;
        outline: none;
    }
     </style>
     
</head>
<body>
    <%- include('../partials/header') %> <!-- Include the header partial -->
    
    <div class="main-container">
        <h2 id="search-title"> </h2>
        <form action="/submit-booking" method="POST" class="booking-form">

            <div class="form-group">
                <label for="zip">Zip Code:</label>
                <input type="text" id="zip" name="zip" required>
            </div>


            <div class="form-group">
                <label for="workType">Select Work Type:</label>
                <select id="workType" name="workType" required>
                    <option value="">--Please choose an option--</option>
                    <option value="Electrician">Electrician</option>
                    <option value="Plumber">Plumber</option>
                    <option value="Carpenter">Carpenter</option>
                    <option value="Painter">Painter</option>
                </select>
            </div>

            <button type="submit">Book Appointment</button>
        </form>
    </div>

    <script>
        // JavaScript to set the work type based on the URL
        const searchTitle  = document.getElementById("search-title");
        
        const urlPath = window.location.pathname;
        const workTypeSelect = document.getElementById('workType');
        
        if (urlPath.includes('electrician')) {
            workTypeSelect.value = 'Electrician';
        } else if (urlPath.includes('plumber')) {
            workTypeSelect.value = 'Plumber';
        } else if (urlPath.includes('carpenter')) {
            workTypeSelect.value = 'Carpenter';
        } else if (urlPath.includes('painter')) {
            workTypeSelect.value = 'Painter';
        }

// Function to update the search title text
function updateSearchTitle() {
    searchTitle.innerText = "Search for " + workTypeSelect.value;
}
workTypeSelect.addEventListener('change', updateSearchTitle);
updateSearchTitle();
    </script>
</body>
</html>